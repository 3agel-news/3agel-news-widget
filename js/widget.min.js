function parseXml(e){var t=null;if(window.DOMParser)try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=null}else if(window.ActiveXObject)try{t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)||console.log(t.parseError.reason+t.parseError.srcText)}catch(e){t=null}else console.log("cannot parse xml string!");return t}function builed_widget(e){var t=document.getElementById("agel-news-widget"),n=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div");n.classList.add("widget-head-div"),o.classList.add("widget-body-div"),o.setAttribute("id","widget-body-div"),i.classList.add("widget-footer-div"),n.innerHTML=t.getAttribute("data-title");const r={hour:"2-digit",minute:"2-digit"};for(let t=0;t<e.length;t++){const n=e[t];var a=Date.parse(n.pubDate),s=new Date(a),l=s.toLocaleTimeString("ar-EG",r);o.innerHTML+="<div class='widget-body-card'><div class='widget-body-img'><a target='_blank' href='"+n.link+"'><img src='"+n.image+"'></a></div><div class='widget-body-title'><div><a target='_blank' href='"+n.link+"'>"+n.title+"</a></div><div class='widget-body-date'>"+l+"</div></div></div><hr>"}i.innerHTML="<a href='https://www.3agel.news' target='_blank'><img src='data:image/webp;base64,UklGRrIFAABXRUJQVlA4TKYFAAAvvQAFEI2YadtG2evxJzyNQ0T/J8A76LTQRCCQ5E88wQyDH/2fAG4XVjGQtk3qX/Z+DxExAd7oyEbNtq25abRHmaHVeJibpM82rPp/6FwCkpiiE02aCAkAAJBt02C2bdu2bdu2bdvebtu2bduvbU4A3EiyVVcdpUzlqBiZ7RF+ZgZDIJDk77LRMLPg1AIAwjnMNpPSfcGMqLpoJv3FveVFrxt579KML7BZrQkA9K8/gIcM/ohgXaPTMYYUCuybU6pdzkggaPy3T6iQ4dZuCSfmiONaBQi45t4Igdr5eGzR30Qo+rdeMMqYyBEnDY0/RBEHKSIUIB9HqKDd7PSOD4zwjK07JwfoY18wW+4aTbRmvq9DZvzRFg/z/GAG/jhsn9UBwgI8QCggEICDziYAkeuik7ytN9JbwyRu63i/Nfr1o0Eydol1t4AihSUmS6LKigldGnie2HsaeoEDGhAwRRsY7pNvMB1EuA4NVOW7Uwe7gEeJ3kAU/rAj3HL/d4cuMGwiPQr2fwAIqlACwBuEHxTgn6iR9VP1xxzgHvWDjHSqj848TH7c3qxzAL4eB/6OQlDE14eK2IY+R5LpF4z3+LvcMqIM7RP2IV4Az9VG4YaZtygAlv9g4fnvDSwbkywlm1sCFZlbjIBiBSUs+Fd9g8WJ8QfYPCX/2HlNTjxRFtBifahkq+KKMYf3f/Gyk/1/ZQtRWWXmWtaMcEducCn4IMeLITpqv/9AIo3toBlfdgG7br/lOWPkZZZiPSQfiKO+rACmuaZm9bNuGWaoMHvHqQJu7MNT9YysOjUXsPwQfGJqpy2BGAXY1hbX2ppujbP1TgwuXZu3n9gjCqRpchuJNA99qo+7RIpI81uVe5Ih0cl+aRkALW/Rn0gMQBOa31X7/gHOypyDu/fOS/8aXvG8vfKIixudSwa++ZuHypxl6dkIMqRtlb2+o3Rgb6o+5QO/gDfZQDtw9jAOXrdNJn2UhGKiPXrvNfdGSWLd7Y0sZPX3N8NGrxjR8rsosnLnULPY4BZI1bx/jDvwfaBPoU8Ytr3i+EJ7hIQTZpzdGxi3wrr8GvLIe1Va8VMC5/a52C9twn4QHAqTHgE9T6ALRtvPik5shBTrv+39EdT0NISqxz7RTjypVnpzYZiCfevQwK5gfjxMwP1Bwfe97EierD/7Q6E0s6NzFm3aqeDLsS4s7QaoiCJYYj1HCBa86gmDfySRuC6Aw0zd8t9BG/6tFTOQELx6rn4ci4DGJvS0spij/QQ9Q4QfWh/Uvgs9hU8Lfs5vkYLBESIuXyz2x92EGH+sVshHdYh+C6kPyvtgKryVJmlhgJmV+V5ee1ri4mSj2+QexSZC81EFN5JMHVooblXY9lShPm62kazaHKy8n6EK+zRD3tZagN6rzaEZrgruHa42SMskAjwVzpcdlb9/HRcjh3a1YRUe2jqELqPacqBFH+sX9zlONIJZ8ulxyNtCMb418xda1RlIZGYRk4BRg/jXEzLwTUGQXBBbxp0ANfouHQqiegIdC6f+Uqu6u64vkKv2r7mpfltauxQKbMf1M4OnHTbCEZ37yjPd60iFrBtiuWcqau2SbtXfJT6c3eZrtIJkQB6+Yo31ir7JR3i5drRkvVivCDH+5XvjuM9jc358Nv/76E9dV0knaX2pemrHD8+SIw2nIiQRwieCZtVyMeXJ5OBnxi7TkES+ZeairYmFqFzx98/b1YmfRntRA/D3mzRaxYZE09X/zjEHBDeaZ022g1qHF2/thy8x0CEI2d7muUui1rk8A4lhsr8esAnG+TuBk2K3N76S+umcvsKXvwLWSvs2wYMne35kS8Fy4rige9vHNuCTHOvyvPB/pf4Cq/zPgg16Xp2P/fPmzhTryZO76rNZ7Ka4PtI/P7592u9vi0/tE2MlijCXM7yUCmVw8st1895CLLrc3gE='></a>",t.appendChild(n),t.appendChild(o),t.appendChild(i),scroll_widget()}function scroll_widget(){const e=convertRemToPixels(2);var t=0,n=0;setInterval(()=>{try{const l=document.getElementById("widget-body-div");var o=90,i=l.childNodes,r=i[n];o=parseFloat(getComputedStyle(r,null).height.replace("px",""));var a=document.getElementById("widget-body-div"),s=zenscroll.createScroller(a);s.toY(t+o+e,800,()=>{t+=o+e,n+=2,l.offsetHeight+l.scrollTop>=l.scrollHeight&&(t=0-e-parseFloat(getComputedStyle(i[0],null).height.replace("px","")),n=0)})}catch(e){console.log(e),t=0,n=0}},4e3)}function convertRemToPixels(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)}!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof module&&module.exports?module.exports=t():function n(){document&&document.body?e.zenscroll=t():setTimeout(n,9)}()}(this,function(){"use strict";var e=function(e){return e&&"getComputedStyle"in window&&"smooth"===window.getComputedStyle(e)["scroll-behavior"]};if("undefined"==typeof window||!("document"in window))return{};var t=function(t,n,o){n=n||999,o||0===o||(o=9);var i,r=function(e){i=e},a=function(){clearTimeout(i),r(0)},s=function(e){return Math.max(0,t.getTopOf(e)-o)},l=function(o,i,s){if(a(),0===i||i&&i<0||e(t.body))t.toY(o),s&&s();else{var l=t.getY(),d=Math.max(0,o)-l,c=(new Date).getTime();i=i||Math.min(Math.abs(d),n),function e(){r(setTimeout(function(){var n=Math.min(1,((new Date).getTime()-c)/i),o=Math.max(0,Math.floor(l+d*(n<.5?2*n*n:n*(4-2*n)-1)));t.toY(o),n<1&&t.getHeight()+o<t.body.scrollHeight?e():(setTimeout(a,99),s&&s())},9))}()}},d=function(e,t,n){l(s(e),t,n)},c=function(e,n,i){var r=e.getBoundingClientRect().height,a=t.getTopOf(e)+r,c=t.getHeight(),u=t.getY(),g=u+c;s(e)<u||r+o>c?d(e,n,i):a+o>g?l(a-c+o,n,i):i&&i()},u=function(e,n,o,i){l(Math.max(0,t.getTopOf(e)-t.getHeight()/2+(o||e.getBoundingClientRect().height/2)),n,i)};return{setup:function(e,t){return(0===e||e)&&(n=e),(0===t||t)&&(o=t),{defaultDuration:n,edgeOffset:o}},to:d,toY:l,intoView:c,center:u,stop:a,moving:function(){return!!i},getY:t.getY,getTopOf:t.getTopOf}},n=document.documentElement,o=function(){return window.scrollY||n.scrollTop},i=t({body:document.scrollingElement||document.body,toY:function(e){window.scrollTo(0,e)},getY:o,getHeight:function(){return window.innerHeight||n.clientHeight},getTopOf:function(e){return e.getBoundingClientRect().top+o()-n.offsetTop}});if(i.createScroller=function(e,o,i){return t({body:e,toY:function(t){e.scrollTop=t},getY:function(){return e.scrollTop},getHeight:function(){return Math.min(e.clientHeight,window.innerHeight||n.clientHeight)},getTopOf:function(e){return e.offsetTop}},o,i)},"addEventListener"in window&&!window.noZensmooth&&!e(document.body)){var r="history"in window&&"pushState"in history,a=r&&"scrollRestoration"in history;a&&(history.scrollRestoration="auto"),window.addEventListener("load",function(){a&&(setTimeout(function(){history.scrollRestoration="manual"},9),window.addEventListener("popstate",function(e){e.state&&"zenscrollY"in e.state&&i.toY(e.state.zenscrollY)},!1)),window.location.hash&&setTimeout(function(){var e=i.setup().edgeOffset;if(e){var t=document.getElementById(window.location.href.split("#")[1]);if(t){var n=Math.max(0,i.getTopOf(t)-e),o=i.getY()-n;0<=o&&o<9&&window.scrollTo(0,n)}}},9)},!1);var s=new RegExp("(^|\\s)noZensmooth(\\s|$)");window.addEventListener("click",function(e){for(var t=e.target;t&&"A"!==t.tagName;)t=t.parentNode;if(!(!t||1!==e.which||e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)){if(a){var n=history.state&&"object"==typeof history.state?history.state:{};n.zenscrollY=i.getY();try{history.replaceState(n,"")}catch(e){}}var o=t.getAttribute("href")||"";if(0===o.indexOf("#")&&!s.test(t.className)){var l=0,d=document.getElementById(o.substring(1));if("#"!==o){if(!d)return;l=i.getTopOf(d)}e.preventDefault();var c=function(){window.location=o},u=i.setup().edgeOffset;u&&(l=Math.max(0,l-u),r&&(c=function(){history.pushState({},"",o)})),i.toY(l,null,c)}}},!1)}return i});var request=new XMLHttpRequest;request.open("GET","https://www.3agel.news/feed/",!0),request.onload=function(){if(this.status>=200&&this.status<400){var e=this.response;console.log("Success!"),console.log("https://www.3agel.news widget feed loaded successfully!");var t=parseXml(e),n=t.getElementsByTagName("item"),o=[];for(i=0;i<n.length;i++){var r=n[i].getElementsByTagName("title")[0].textContent,a=n[i].getElementsByTagName("link")[0].textContent,s=n[i].getElementsByTagName("pubDate")[0].textContent,l=n[i].getElementsByTagName("image")[0].textContent,d=[];d.title=r,d.link=a,d.pubDate=s,d.image=l,o.push(d)}builed_widget(o)}else console.log("We reached our target server, but it returned an error!")},request.onerror=function(){console.log("There was a connection error of some sort!")},request.send();
